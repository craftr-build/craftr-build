# type: ignore

cxx = project.apply('cxx')
run = project.apply('run')

cxx.compile('lib') {
  self.sources = [project.file('src/hellosayer.c')]
  self.produces = 'static_library'
}

cxx.compile('main') {
  self.sources = [project.file('src/main.c')]
  self.dependencies.append project.tasks.lib
}

run.run {
  self.dependencies.append project.tasks.main
}
